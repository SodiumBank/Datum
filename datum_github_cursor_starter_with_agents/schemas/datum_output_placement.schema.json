{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://datum.example/schemas/datum_output_placement.schema.json",
  "title": "Datum Output: PLACEMENT",
  "type": "object",
  "additionalProperties": false,
  "required": ["format", "units", "placements"],
  "properties": {
    "format": { "type": "string", "enum": ["XYRS_NEUTRAL"] },
    "units": { "$ref": "./datum_common.schema.json#/$defs/unit" },
    "origin": { "type": "string", "enum": ["GERBER_ORIGIN", "BOARD_DATUM", "CUSTOM"], "default": "BOARD_DATUM" },
    "placements": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["refdes", "x", "y", "rotation_deg", "side", "package_id"],
        "properties": {
          "refdes": { "type": "string", "maxLength": 32 },
          "x": { "type": "number" },
          "y": { "type": "number" },
          "rotation_deg": { "type": "number", "minimum": -360, "maximum": 360 },
          "side": { "$ref": "./datum_common.schema.json#/$defs/side" },
          "package_id": { "type": "string", "maxLength": 64 },
          "feeder_assumption": {
            "type": "string",
            "enum": ["8MM", "12MM", "16MM", "24MM", "TRAY", "STICK", "BULK", "UNKNOWN"],
            "default": "UNKNOWN"
          },
          "nozzle_hint": { "type": "string", "maxLength": 64 },
          "notes": { "type": "string", "maxLength": 256 }
        }
      }
    }
  }
}
